const predCanvas = [
    {id: "s", name: "Susceptibles"},
    {id: "i", name: "Infectados"},
    {id: "r", name: "Recuperados"},
    {id: "d", name: "Muertos"},
]

const predCharts = {}

function changeCharts(city) {
    Object.keys(predCharts).forEach(c => {
        const chart = predCharts[c]
        chart.data.datasets[0].data = cityPreds[city][c]
        chart.update()
    })
}

predCanvas.forEach(canvas => {
    const canvasElement = document.getElementById(`preds-${canvas.id}-chart`).getContext('2d')

    predCharts[canvas.name] = new Chart(canvasElement, {
    type: 'line',
    data: {
        labels: dates,
        datasets: [{
            data: cityPreds[0][canvas.name],
            pointRadius: 0,
            lineTension: 0,
            borderWidth: 2,
            fill: false,
            borderColor: colors.warning
        }]
    },
    options: {
        scales: {
            xAxes: [{
                type: 'time',
                time: {
                    parser: "YYYY-MM-DD",
                    tooltipFormat: "ll",
                    unit: "month",
                    minUnit: "month"
                },
                distribution: "series"
            }]
        },
        legend: {
            display: false
        },
        title: {
            display: true,
            text: canvas.name,
            fontSize: 16
        }
    }
})
})
